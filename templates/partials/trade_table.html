<!-- Actions Section -->
<div class="actions">
    <label class="select-all-label">
        <input type="checkbox" onclick="toggleSelectAll(this)"> Select All
    </label>
    <button id="deleteBtn" class="btn delete-btn" onclick="deleteSelected()">
        Delete Selected (<span id="selectedCount">0</span>) Trades
    </button>
</div>

<!-- Trades Table -->
<table>
    <thead>
        <tr>
            <th><input type="checkbox" onclick="toggleSelectAll(this)"></th>
            <th class="sortable" onclick="updateSort('id')">
                ID
                <span class="sort-arrow {% if sort_by == 'id' %}active{% endif %}">
                    {% if sort_by == 'id' %}
                        {% if sort_order == 'ASC' %}↑{% else %}↓{% endif %}
                    {% else %}
                        ↕
                    {% endif %}
                </span>
            </th>
            <th>Instrument</th>
            <th>Side</th>
            <th>Quantity</th>
            <th class="sortable" onclick="updateSort('entry_time')">
                Entry Time
                <span class="sort-arrow {% if sort_by == 'entry_time' %}active{% endif %}">
                    {% if sort_by == 'entry_time' %}
                        {% if sort_order == 'ASC' %}↑{% else %}↓{% endif %}
                    {% else %}
                        ↕
                    {% endif %}
                </span>
            </th>
            <th>Entry Price</th>
            <th>Exit Time</th>
            <th>Exit Price</th>
            <th>Points</th>
            <th>P&L ($)</th>
            <th>Commission</th>
            <th>Account</th>
        </tr>
    </thead>
    <tbody>
        {% for trade in trades %}
        <tr class="{{ get_row_class(trade.dollars_gain_loss) }}">
            <td>
                <input type="checkbox" value="{{ trade.id }}" onclick="toggleRow(this)">
            </td>
            <td><a href="{{ url_for('trades.trade_detail', trade_id=trade.id) }}" class="trade-link">{{ trade.id }}</a></td>
            <td>{{ trade.instrument }}</td>
            <td class="{{ get_side_class(trade.side_of_market) }}">{{ trade.side_of_market }}</td>
            <td>{{ trade.quantity }}</td>
            <td>{{ trade.entry_time }}</td>
            <td>${{ "%.2f"|format(trade.entry_price) }}</td>
            <td>{{ trade.exit_time }}</td>
            <td>${{ "%.2f"|format(trade.exit_price) }}</td>
            <td>{{ "%.2f"|format(trade.points_gain_loss) }}</td>
            <td class="pnl-cell">${{ "%.2f"|format(trade.dollars_gain_loss) }}</td>
            <td>${{ "%.2f"|format(trade.commission) }}</td>
            <td>{{ trade.account }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>